<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="game">
        <h1>Guess My Number!</h1>
        <p class="message">Guess a number between 1 and 50:</p>
        <input type="number" class="numberInput">
        <input type="hidden" class="randomInput">
        <div class="error" style="color: red;"></div>
        <button class="check">Check!</button>
        <button class="again">Again</button>
        <br>
        <div style="display: inline-block;">
          <p>Score</p>
          <p class="score" value="0"></p>
        </div>
      </div>

    <script>
        //Câu 1
        console.log('   Coding Challenge #1');
        BMI = (mass, height) => {
            var bmi = mass / (height * height);
            return bmi;
        }

        console.log('Data 1')
        var Mark1 = BMI(78, 1.69)
        var John1 = BMI(92, 1.95)
        console.log("Mark's BMI for Data 1:", Mark1);
        console.log("John's BMI for Data 1:", John1);
        var markHigherBMI1 = Mark1 > John1;
        console.log("Is Mark's BMI higher than John's in Data 1? ", markHigherBMI1);

        console.log('Data 2')
        var Mark2 = BMI(95, 1.88)
        var John2 = BMI(85, 1.76)
        console.log("Mark's BMI for Data 2:", Mark2);
        console.log("John's BMI for Data 2:", John2);
        var markHigherBMI2 = Mark2 > John2;
        console.log("Is Mark's BMI higher than John's in Data 2? ", markHigherBMI2);
        
        //Câu 2:
        console.log('\n   Coding Challenge #2');
        if (Mark1 > John1) {
            console.log(`Mark's BMI (${Mark1.toFixed(1)}) is higher than John's (${John1.toFixed(1)}) in Data 1!`);
        } else if (John1 > Mark1) {
            console.log(`John's BMI (${John1.toFixed(1)}) is higher than Mark's (${Mark1.toFixed(1)}) in Data 1!`);
        } else {
            console.log("Mark's and John's BMI are equal in Data 1!");
        }

        if (Mark2 > John2) {
            console.log(`Mark's BMI (${Mark2.toFixed(1)}) is higher than John's (${John2.toFixed(1)}) in Data 2!`);
        } else if (John2 > Mark2) {
            console.log(`John's BMI (${John2.toFixed(1)}) is higher than Mark's (${Mark2.toFixed(1)}) in Data 2!`);
        } else {
            console.log("Mark's and John's BMI are equal in Data 2!");
        }

        //Câu 3:
        console.log('\n   Coding Challenge #3');
        // Data 1
        const dolphinsScores1 = [96, 108, 89];
        const koalasScores1 = [88, 91, 110];
        // Data Bonus 1
        const dolphinsScores2 = [97, 112, 101];
        const koalasScores2 = [109, 95, 123];
        // Data Bonus 2
        const dolphinsScores3 = [97, 112, 101];
        const koalasScores3 = [109, 95, 106];

        function calculateAverage(scores) {
        const sum = scores.reduce((total, score) => total + score, 0);
        return sum / scores.length;
        }

        function determineWinner(dolphins, koalas) {
        const dolphinsAverage = calculateAverage(dolphins);
        const koalasAverage = calculateAverage(koalas);

        if (dolphinsAverage >= 100 && dolphinsAverage > koalasAverage) {
            return "Dolphins win!";
        } else if (koalasAverage >= 100 && koalasAverage > dolphinsAverage) {
            return "Koalas win!";
        } else if (dolphinsAverage === koalasAverage && dolphinsAverage >= 100 && koalasAverage >= 100) {
            return "It's a draw!";
        } else {
            return "No team wins the trophy.";
        }
        }
        // Data 1
        console.log("Data 1:", determineWinner(dolphinsScores1, koalasScores1));
        // Data Bonus 1
        console.log("Data Bonus 1:", determineWinner(dolphinsScores2, koalasScores2));
        // Data Bonus 2
        console.log("Data Bonus 2:", determineWinner(dolphinsScores3, koalasScores3));

        //Câu 4:
        console.log('\n   Coding Challenge #4');
        const Tipcalculator = (billnum) => {
            if (billnum >= 50 && billnum <= 300) {
                return billnum * 15 / 100;
            } else {
                return billnum * 20 / 100;
            }
        }

        billnum = [275, 40, 430]

        billnum.map(element => {
            const tip = Tipcalculator(element);
            const total = element + tip;
            console.log(`The bill was ${element}, the tip was ${tip.toFixed(2)}, and the total value ${total.toFixed(2)}`);
        });

        //Câu 5:
        console.log('\n   Coding Challenge #5');
        // Bước 1: Tạo hàm tính trung bình
        const calcAverage = (score1, score2, score3) => (score1 + score2 + score3) / 3;

        // Bước 2: Tính trung bình điểm cho cả đội Dolphin và đội Koala
        const avgDolphinsData1 = calcAverage(44, 23, 71);
        const avgKoalasData1 = calcAverage(65, 54, 49);

        const avgDolphinsData2 = calcAverage(85, 54, 41);
        const avgKoalasData2 = calcAverage(23, 34, 27);

        // Bước 3: Tạo hàm kiểm tra người thắng cuộc
        const checkWinner = (avgDolphins, avgKoalas) => {
        if (avgDolphins >= avgKoalas * 2) {
            console.log(`Dolphins win (${avgDolphins} vs. ${avgKoalas})`);
        } else if (avgKoalas >= avgDolphins * 2) {
            console.log(`Koalas win (${avgKoalas} vs. ${avgDolphins})`);
        } else {
            console.log("No team wins.");
        }
        };

        // Bước 4: Sử dụng hàm 'checkWinner' cho cả Data 1 và Data 2
        console.log("Data 1:");
        checkWinner(avgDolphinsData1, avgKoalasData1);

        console.log("Data 2:");
        checkWinner(avgDolphinsData2, avgKoalasData2);

        //Câu 6:
        console.log('\n   Coding Challenge #6');
        const calcTip = (bill) => {
        if (bill >= 50 && bill <= 300) {
            return bill * 0.15; // 15% tip
        } else {
            return bill * 0.2; // 20% tip
        }
        };

        const bills = [125, 555, 44];
        const tips = bills.map((bill) => calcTip(bill));
        const totals = bills.map((bill, index) => bill + tips[index]);

        console.log("Bills:", bills);
        console.log("Tips:", tips);
        console.log("Total values:", totals);

        //Câu 7:
        console.log('\n   Coding Challenge #7');
        // Tạo đối tượng cho Mark và John với các thuộc tính fullName, mass, và height
        const mark = {
        fullName: "Mark Miller",
        mass: 78, // kg
        height: 1.69, // meter

        // Phương thức tính BMI và lưu vào thuộc tính bmi
        calcBMI: function () {
            this.bmi = this.mass / (this.height ** 2);
            return this.bmi;
        },
        };

        const john = {
        fullName: "John Smith",
        mass: 92, // kg
        height: 1.95, // meter

        // Phương thức tính BMI và lưu vào thuộc tính bmi
        calcBMI: function () {
            this.bmi = this.mass / (this.height ** 2);
            return this.bmi;
        },
        };

        // Tính toán BMI cho cả Mark và John
        mark.calcBMI();
        john.calcBMI();

        // So sánh và in ra thông tin về người có BMI cao hơn
        if (mark.bmi > john.bmi) {
        console.log(`${mark.fullName}'s BMI (${mark.bmi.toFixed(1)}) is higher than ${john.fullName}'s (${john.bmi.toFixed(1)})!`);
        } else if (john.bmi > mark.bmi) {
        console.log(`${john.fullName}'s BMI (${john.bmi.toFixed(1)}) is higher than ${mark.fullName}'s (${mark.bmi.toFixed(1)})!`);
        } else {
        console.log(`Both ${mark.fullName} and ${john.fullName} have the same BMI (${mark.bmi.toFixed(1)})!`);
        }

        //Câu 8:
        console.log('\n   Coding Challenge #8');
        // Tạo mảng bills chứa giá trị các hóa đơn kiểm tra
        const bill8 = [22, 295, 176, 440, 37, 105, 10, 1100, 86, 52];

        // Hàm tính giá trị tip dựa trên hóa đơn
        const calcTip8 = (bill) => {
        return bill >= 50 && bill <= 300 ? bill * 0.15 : bill * 0.2;
        };

        // Tạo mảng trống tips và totals
        const tip8 = [];
        const total8 = [];

        // Tính toán giá trị tip và tổng (hóa đơn + tip) cho từng hóa đơn
        for (let i = 0; i < bills.length; i++) {
        const tip = calcTip(bills[i]);
        tips.push(tip);
        totals.push(bills[i] + tip);
        }

        console.log("Tips:", tips);
        console.log("Totals:", totals);

        //Câu 9:
        console.log('\n   Coding Challenge #9');
        const printForecast = (arr) => {
        let forecastString = "";
        for (let i = 0; i < arr.length; i++) {
            forecastString += `${arr[i]}°C in ${i + 1} day\n`;
        }
        console.log(forecastString);
        };

        const data1 = [17, 21, 23];
        const data2 = [12, 5, -5, 0, 4];

        console.log("Data 1:");
        printForecast(data1);

        console.log("Data 2:");
        printForecast(data2);

        //JavaScript in the Browser: DOM and Events
        console.log('\n\n\n        JavaScript in the Browser: DOM and Events');
        console.log('   Coding Challenge #1');
        const message = document.querySelector('.message');
        const numberInput = document.querySelector('.numberInput');
        const scoreDisplay = document.querySelector('.score');
        const randomInput = document.querySelector('.randomInput');
        const again = document.querySelector('.again');
        const check = document.querySelector('.check');
        const error = document.querySelector('.error');
        let score = 0;

        // Khởi tạo giá trị ngẫu nhiên ban đầu
        randomInput.value = Math.floor(Math.random() * 51);
        console.log(randomInput.value);

        again.addEventListener('click', () => {
        // Khởi tạo giá trị ngẫu nhiên mới khi nhấn nút "Again"
        randomInput.value = Math.floor(Math.random() * 51);
        message.textContent = "Guess a number between 1 and 50:"; // Đặt lại thông báo
        score = 0; // Đặt lại điểm số
        scoreDisplay.textContent = score; // Cập nhật hiển thị điểm số
        numberInput.value = ''; // Đặt lại giá trị đầu vào
        error.textContent = ''; // Đặt lại thông báo lỗi
        });

        check.addEventListener('click', () => {
        const userGuess = parseInt(numberInput.value);
        const randomNumber = parseInt(randomInput.value);

        if (isNaN(userGuess) || userGuess < 1 || userGuess > 50) {
            error.textContent = "Please enter a valid number between 1 and 50.";
        } else if (userGuess === randomNumber) {
            message.textContent = "Congratulations! You guessed the correct number!";
            score += 10;
            scoreDisplay.textContent = score;
            document.body.style.backgroundColor = 'red'; // Thay đổi màu nền khi đoán đúng
            randomInput.value = Math.floor(Math.random() * 101);
            numberInput.value = '';
            error.textContent = ''; // Đặt lại thông báo lỗi
        } else {
            error.textContent = "Try again!";
        }
        });

        //Data Structures, Modern Operators and Strings
        console.log('\n\n\n        Data Structures, Modern Operators and Strings');
        //Câu 1:
        console.log('   Coding Challenge #1');

        const game = {
            teams: [
                {
                    name: 'Bayern Munich',
                    players: [
                        'Neuer', 'Davies', 'Lucas Hernandez', 'Upamecano', 'Kimmich',
                        'Goretzka', 'Muller', 'Gnabry', 'Lewandowski', 'Coman',
                    ],
                },
                {
                    name: 'Borussia Dortmund',
                    players: [
                        'Kobel', 'Meunier', 'Akanji', 'Hummels', 'Guerreiro',
                        'Witsel', 'Bellingham', 'Reus', 'Haaland', 'Malen',
                    ],
                },
            ],
            scored: ['Lewandowski', 'Gnabry', 'Reus'],
            odds: {
                team1: 1.6,
                draw: 3.5,
                team2: 5.5,
            },
            scorers: {
                Gnarby: 1,
                Hummels: 1,
                Lewandowski: 2,
            },
        };

        const players1 = game.teams[0].players.slice(); // Sao chép mảng người chơi
        const players2 = game.teams[1].players.slice(); // Sao chép mảng người chơi

        players1[0] = 'gk';
        players2[0] = 'gk';

        const allPlayers = [...players1, ...players2];

        const players1Final = ['Thiago', 'Coutinho', 'Perisic', ...players1];

        const printGoals = (...players) => {
            console.log(`${players.length} goals were scored.`);
            players.forEach((player, index) => {
                console.log(`${player} scored ${game.scorers[player]} goal(s).`);
            });
        };

        const team1 = game.odds.team1;
        const team2 = game.odds.team2;
        const draw = game.odds.draw;

        console.log('Players of Team 1:', players1);
        console.log('Players of Team 2:', players2);
        console.log('All Players:', allPlayers);
        console.log('Players 1 with Substitutes:', players1Final);
        console.log('Team 1 Odds:', team1);
        console.log('Team 2 Odds:', team2);
        console.log('Draw Odds:', draw);

        console.log("Use players 'Davies', 'Muller', 'Lewandowski', and 'Kimmich'.");
        printGoals('Davies', 'Muller', 'Lewandowski', 'Kimmich');

        console.log('Players from game.scored:');
        printGoals(...game.scored);

        const oddsArr = [team1, team2, draw];
        const minValue = Math.min(...oddsArr);

        const favoredTeam = game.odds.team1 === minValue ? 'Team 1' : game.odds.team2 === minValue ? 'Team 2' : 'Draw';
        console.log(`The team with the lower odd is more likely to win: ${favoredTeam}`);

        //Câu 2: 
        console.log('\n   Coding Challenge #2');

        game.scored.forEach((player, index) => {
            console.log(`Goal ${index + 1}: ${player}`);
        });

        const oddsValues = Object.values(game.odds);
        const averageOdd = oddsValues.reduce((total, odd) => total + odd, 0) / oddsValues.length;
        console.log('Average Odds:', averageOdd);

        console.log('Odds:');
        for (const key in game.odds) {
            if (key === 'draw') {
                console.log(`Odd of draw: ${game.odds[key]}`);
            } else {
                console.log(`Odd of ${key} Bayern Munich: ${game.odds[key]}`);
            }
        }

        //Câu 3:
        console.log('\n   Coding Challenge #3');

    </script>
</body>
</html>